{
    "version": "0.2.0",
    "configurations": [
        {
        "name": "inf_publish_0422",
        "type": "python",
        "request": "launch",
        "runtimeExecutable": "uv",
        "module": "accelerate.commands.launch",
        "cwd": "${workspaceFolder}/finetune/ominicontrol_style",
        "args": [
            "--config_file", "../accelerate_config_machine_single_inf.yaml",
            "../inference_publish_0422.py",
            "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
            "--cache_dir", "~/.cache",
            "--enable_tiling",
            "--enable_slicing",
            "--validation_reference_image", "../zs_samples/",
            "--seed", "2025",
            "--rank", "128",
            "--lora_alpha", "64",
            "--output_dir", "./test_output",
            "--checkpoint_path", "/root/daneul/projects/videocustom/ckpts_best_ours",
            "--height", "480",
            "--width", "720",
            "--fps", "8",
            "--max_num_frames", "49",
            "--skip_frames_start", "0",
            "--skip_frames_end", "0",
            "--t5_first",
            "--vae_add",
            "--pos_embed",
            "--pos_embed_inf_match",
            "--non_shared_pos_embed",
            "--add_special",
            "--layernorm_fix",
            "--inference",
            "--resume_from_checkpoint", "checkpoint-4000",
            "--phase_name", "test",
            "--test_prompt_path", "../zs_prompts_new.json",
            "--sampling_for_quali",
            "--num_of_prompts", "8",
            "--quali_shard", "0",
            "--quali_sep_count", "6"
        ],
        "console": "integratedTerminal",
        "env": {
            "MODEL_PATH": "THUDM/CogVideoX-5b",
            "CACHE_PATH": "~/.cache",
            "OUTPUT_PATH": "./test_output",
            "VALIDATION_REF_PATH": "../zs_samples/",
            "TEST_PROMPT_PATH": "../zs_prompts_new.json",
            "CHECKPOINT_PATH": "./ckpts_best_ours",
            "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
            "CUDA_VISIBLE_DEVICES": "0",
            "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
            "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
        }
        },
        {
            "name": "inf_publish_0422p",
            "type": "python",
            "request": "launch",
            "runtimeExecutable": "uv",
            "module": "accelerate.commands.launch",
            "cwd": "${workspaceFolder}/finetune/ominicontrol_style",
            "args": [
                "--config_file", "../accelerate_config_machine_single_inf.yaml",
                "../inference_publish_0422.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--validation_epochs", "100",
                "--num_validation_videos", "1",
                "--validation_reference_image", "../zs_samples/",
                "--seed", "2025",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "./test_output",
                "--checkpoint_path", "./ckpts_best_ours",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "8",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--pos_embed",
                "--pos_embed_inf_match",
                "--non_shared_pos_embed",
                "--add_special",
                "--layernorm_fix",
                "--joint_train",
                "--prob_sample_video", "0.2",
                "--random_drop_full",
                "--load_to_ram",
                "--report_to", "wandb",
                "--inference",
                "--resume_from_checkpoint", "checkpoint-4000",
                "--phase_name", "test",
                "--test_prompt_path", "../zs_prompts_new.json",
                "--sampling_for_quali",
                "--num_of_prompts", "8",
                "--wo_background_in_inf_sampling",
                "--quali_shard", "0",
                "--quali_sep_count", "6"
            ],
            "console": "integratedTerminal",
            "env": {
                "MODEL_PATH": "THUDM/CogVideoX-5b",
                "CACHE_PATH": "~/.cache",
                "OUTPUT_PATH": "./test_output",
                "VALIDATION_REF_PATH": "../zs_samples/",
                "TEST_PROMPT_PATH": "../zs_prompts_new.json",
                "CHECKPOINT_PATH": "./ckpts_best_ours",
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inf_check_0223_i2v",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "cwd": "/root/daneul/projects/refactored/CogVideo/finetune/ominicontrol_style",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_0223_imageman.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250223/image_man_80_4_prob05_with_i2v_debug",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "2",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--pos_embed",
                "--pos_embed_inf_match",
                "--non_shared_pos_embed",
                "--add_special",
                "--layernorm_fix",
                "--image_man",
                "--image_man_with_i2v",
                "--joint_train",
                "--frame_weighted_loss",
                "--prob_sample_video", "0.2",
                "--random_drop_full",
                "--random_drop_prob", "0.0",
                "--video_anno", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train/second_stage_video_filtered_data_dict_sampled_4k.json",
                "--video_instance_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels_8fps",
                "--video_ref_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels_8fps_rand",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3,4,5,6,7",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inf_check_0223",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "cwd": "/root/daneul/projects/refactored/CogVideo/finetune/ominicontrol_style",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_0223_imageman.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250223/image_man_debug_80_4_prob05",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--pos_embed",
                "--pos_embed_inf_match",
                "--non_shared_pos_embed",
                "--add_special",
                "--layernorm_fix",
                "--image_man",
                "--joint_train",
                "--frame_weighted_loss",
                "--prob_sample_video", "0.5",
                "--random_drop_full",
                "--random_drop_prob", "0.0",
                "--video_anno", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train/second_stage_video_filtered_data_dict_sampled_4k.json",
                "--video_instance_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels",
                "--video_ref_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels_first",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inf_check_0222",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "cwd": "/root/daneul/projects/refactored/CogVideo/finetune/ominicontrol_style",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_0221_lossscale.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250220/joint_finetune_randomdrop",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--pos_embed",
                "--pos_embed_inf_match",
                "--non_shared_pos_embed",
                "--add_special",
                "--layernorm_fix",
                "--image_man",
                "--joint_train",
                "--frame_weighted_loss",
                "--prob_sample_video", "0.",
                "--video_anno", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train/second_stage_video_filtered_data_dict_sampled_4k.json",
                "--video_instance_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels",
                "--video_ref_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels_first",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inf_check_0219",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "cwd": "/root/daneul/projects/refactored/CogVideo/finetune/ominicontrol_style",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_0219_randomdrop.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250218/joint_train_debug_80_4",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "5",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--pos_embed",
                "--pos_embed_inf_match",
                "--non_shared_pos_embed",
                "--add_special",
                "--layernorm_fix",
                "--joint_train",
                "--random_drop_full",
                "--prob_sample_video", "1.0",
                "--video_anno", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train/second_stage_video_filtered_data_dict_sampled_4k.json",
                "--video_instance_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels",
                "--video_ref_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels_first",
                "--load_to_ram",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inf_check_0218",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "cwd": "/root/daneul/projects/refactored/CogVideo/finetune",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_0218_combined.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250218/joint_train_debug_80_4",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "5",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--pos_embed",
                "--pos_embed_inf_match",
                "--non_shared_pos_embed",
                "--add_special",
                "--layernorm_fix",
                "--joint_train",
                "--video_anno", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train/second_stage_video_filtered_data_dict_sampled_4k.json",
                "--video_instance_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels",
                "--video_ref_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels_first",
                "--load_to_ram",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb",
                "--inference"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inf_check_0215",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "cwd": "/root/daneul/projects/refactored/CogVideo/finetune",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_0214_video_posttrain.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "100",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250215/special_tk_layernorm_fix_pos_embed_fix_80_4_debug_second_stage",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "2",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--second_stage",
                "--video_anno", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train/second_stage_video_filtered_data_dict_sampled_4k.json",
                "--video_instance_root", "/mnt/carpedkm_data/image_gen_ds/second_stage_video_train_pexels",
                "--load_to_ram",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb",
                "--resume_from_checkpoint", "/mnt/carpedkm_data/result250214/special_tk_layernorm_fix_pos_embed_fix_40_32/checkpoint-6000"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
            {
                "name": "inf_check_0214",
                "type": "python",
                "request": "launch",
                "module": "accelerate.commands.launch",
                "cwd": "/root/daneul/projects/refactored/CogVideo/finetune",
                "args": [
                    "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single.yaml",
                    "--multi_gpu",
                    "/root/daneul/projects/refactored/CogVideo/finetune/train_0212_fix_for_layernorm.py",
                    "--gradient_checkpointing",
                    "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                    "--cache_dir", "/root/.cache",
                    "--enable_tiling",
                    "--enable_slicing",
                    "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                    "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                    "--validation_epochs", "1",
                    "--num_validation_videos", "1",
                    "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                    "--seed", "42",
                    "--rank", "128",
                    "--lora_alpha", "64",
                    "--mixed_precision", "bf16",
                    "--output_dir", "/mnt/carpedkm_data/result250212/special_tk_layernorm_fix_40_32",
                    "--height", "480",
                    "--width", "720",
                    "--fps", "8",
                    "--max_num_frames", "1",
                    "--skip_frames_start", "0",
                    "--skip_frames_end", "0",
                    "--train_batch_size", "8",
                    "--num_train_epochs", "30",
                    "--checkpointing_steps", "50",
                    "--gradient_accumulation_steps", "1",
                    "--learning_rate", "5e-5",
                    "--lr_scheduler", "cosine_with_restarts",
                    "--lr_warmup_steps", "200",
                    "--lr_num_cycles", "1",
                    "--optimizer", "AdamW",
                    "--adam_beta1", "0.9",
                    "--adam_beta2", "0.95",
                    "--max_grad_norm", "1.0",
                    "--allow_tf32",
                    "--t5_first",
                    "--use_latent",
                    "--vae_add",
                    "--add_special",
                    "--pos_embed",
                    "--layernorm_fix",
                    "--load_to_ram",
                    "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                    "--report_to", "wandb",
                    "--inference",
                    "--resume_from_checkpoint", "checkpoint-3600"
                ],
                "console": "integratedTerminal",
                "env": {
                    "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                    "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                    "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                    "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
                }
            },
            {
                "name": "inf_check_0212",
                "type": "python",
                "request": "launch",
                "module": "accelerate.commands.launch",
                "cwd": "/root/daneul/projects/refactored/CogVideo/finetune",
                "args": [
                    "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                    "--multi_gpu",
                    "/root/daneul/projects/refactored/CogVideo/finetune/train_0212_fix_for_layernorm.py",
                    "--gradient_checkpointing",
                    "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                    "--cache_dir", "/root/.cache",
                    "--enable_tiling",
                    "--enable_slicing",
                    "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                    "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                    "--validation_epochs", "1",
                    "--num_validation_videos", "1",
                    "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                    "--seed", "42",
                    "--rank", "128",
                    "--lora_alpha", "64",
                    "--mixed_precision", "bf16",
                    "--output_dir", "/mnt/carpedkm_data/result250212/special_tk_layernorm_fix",
                    "--height", "480",
                    "--width", "720",
                    "--fps", "8",
                    "--max_num_frames", "1",
                    "--skip_frames_start", "0",
                    "--skip_frames_end", "0",
                    "--train_batch_size", "32",
                    "--num_train_epochs", "30",
                    "--checkpointing_steps", "50",
                    "--gradient_accumulation_steps", "1",
                    "--learning_rate", "5e-5",
                    "--lr_scheduler", "cosine_with_restarts",
                    "--lr_warmup_steps", "200",
                    "--lr_num_cycles", "1",
                    "--optimizer", "AdamW",
                    "--adam_beta1", "0.9",
                    "--adam_beta2", "0.95",
                    "--max_grad_norm", "1.0",
                    "--allow_tf32",
                    "--t5_first",
                    "--use_latent",
                    "--vae_add",
                    "--pos_embed",
                    "--add_special",
                    "--layernorm_fix",
                    "--load_to_ram",
                    "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                    "--report_to", "wandb"
                ],
                "console": "integratedTerminal",
                "env": {
                    "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                    "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                    "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                    "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
                }
            },
            {
                "name": "inf_check_0211",
                "type": "python",
                "request": "launch",
                "module": "accelerate.commands.launch",
                "cwd": "/root/daneul/projects/refactored/CogVideo/finetune/ominicontrol_style",
                "args": [
                    "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                    "--multi_gpu",
                    "/root/daneul/projects/refactored/CogVideo/finetune/train_0210_layer_replacement_with_edit.py",
                    "--gradient_checkpointing",
                    "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                    "--cache_dir", "/root/.cache",
                    "--enable_tiling",
                    "--enable_slicing",
                    "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k_720p_full",
                    "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                    "--validation_epochs", "1",
                    "--num_validation_videos", "1",
                    "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                    "--seed", "42",
                    "--rank", "128",
                    "--lora_alpha", "64",
                    "--mixed_precision", "bf16",
                    "--output_dir", "/mnt/carpedkm_data/result250208/720x480embedding_refined_oministyle_vaeadd_original_channel_fix_pos_embed_add_special_tk_single_with_input_noise_fix",
                    "--height", "480",
                    "--width", "720",
                    "--fps", "8",
                    "--max_num_frames", "1",
                    "--skip_frames_start", "0",
                    "--skip_frames_end", "0",
                    "--train_batch_size", "8",
                    "--num_train_epochs", "30",
                    "--checkpointing_steps", "50",
                    "--gradient_accumulation_steps", "1",
                    "--learning_rate", "5e-5",
                    "--lr_scheduler", "cosine_with_restarts",
                    "--lr_warmup_steps", "200",
                    "--lr_num_cycles", "1",
                    "--optimizer", "AdamW",
                    "--adam_beta1", "0.9",
                    "--adam_beta2", "0.95",
                    "--max_grad_norm", "1.0",
                    "--allow_tf32",
                    "--use_latent",
                    "--qformer",
                    "--seen_validation",
                    "--load_to_ram",
                    "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                    "--report_to", "wandb"
                ],
                "console": "integratedTerminal",
                "env": {
                    "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                    "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                    "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                    "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
                },
                "console": "integratedTerminal",
                "env": {
                    "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                    "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                    "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                    "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
                }
            },
            {
                "name": "inf_check",
                "type": "python",
                "request": "launch",
                "module": "accelerate.commands.launch",
                "args": [
                    "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                    "--multi_gpu",
                    "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_wo_vae_250106_image_vae_like_ominicontrol.py",
                    "--gradient_checkpointing",
                    "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                    "--cache_dir", "~/.cache",
                    "--enable_tiling",
                    "--enable_slicing",
                    "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k",
                    "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                    "--validation_epochs", "1",
                    "--num_validation_videos", "1",
                    "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                    "--seed", "42",
                    "--rank", "128",
                    "--lora_alpha", "64",
                    "--mixed_precision", "bf16",
                    "--output_dir", "/mnt/carpedkm_data/result25012/512x512embedding_refined_oministyle_vaeadd",
                    "--height", "512",
                    "--width", "512",
                    "--fps", "8",
                    "--max_num_frames", "1",
                    "--skip_frames_start", "0",
                    "--skip_frames_end", "0",
                    "--train_batch_size", "16",
                    "--num_train_epochs", "30",
                    "--checkpointing_steps", "50",
                    "--gradient_accumulation_steps", "1",
                    "--learning_rate", "5e-5",
                    "--lr_scheduler", "cosine_with_restarts",
                    "--lr_warmup_steps", "200",
                    "--lr_num_cycles", "1",
                    "--optimizer", "AdamW",
                    "--adam_beta1", "0.9",
                    "--adam_beta2", "0.95",
                    "--max_grad_norm", "1.0",
                    "--allow_tf32",
                    "--t5_first",
                    "--use_latent",
                    "--vae_add",
                    "--load_to_ram",
                    "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                    "--report_to", "wandb",
                    "--subset_cnt", "200000",
                    "--inference",
                    "--resume_from_checkpoint", "/mnt/carpedkm_data/result25012/512x512embedding_refined_oministyle_vaeadd/checkpoint-6000"
                ],
                "console": "integratedTerminal",
                "env": {
                    "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                    "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                    "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                    "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
                }
            },

        {
            "name": "result_check_50k_512x512_embedding_refined_prompt_vaeadd",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_wo_vae_250106_image_vae.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250109/result_check_100k_512x512_embedding_refined_prompt_without_subject_moviegenstyle_vaeadd",
                "--height", "512",
                "--width", "512",
                "--fps", "8",
                "--max_num_frames", "1",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "16",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--use_latent",
                "--vae_add",
                "--load_to_ram",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb",
                "--inference",
                "--resume_from_checkpoint", "/mnt/carpedkm_data/result250109/result_check_100k_512x512_embedding_refined_prompt_without_subject_moviegenstyle_vaeadd/checkpoint-950"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "result_check_100k_512x512_embedding_refined_prompt_vaeadd",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_wo_vae_250106_image_vae.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/image_gen_ds/omini200k",
                "--anno_root", "/mnt/carpedkm_data/image_gen_ds/omini200k/metadata_omini200k_update_refined.json",
                "--validation_epochs", "5",
                "--num_validation_videos", "1",
                "--validation_reference_image", "./val_samples_im/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/result250109/result_check_100k_512x512_embedding_refined_prompt_without_subject_moviegenstyle_vaeadd",
                "--height", "512",
                "--width", "512",
                "--fps", "8",
                "--max_num_frames", "1",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "96",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--use_latent",
                "--vae_add",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_4k_updatd_vae_latents",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "moviegen_5b_quick_encode_with_latent_test_1600",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_wo_vae_241219.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/preprocessed_subset_200k",
                "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_fullset400k.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples2/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/finetune_result/241219/moviegen_5b_quick_encode_with_latent_test_1600",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--subset_cnt", "1600",
                "--use_latent",
                "--latent_data_root", "/mnt/carpedkm_data/pexels_8fps_latents_1600",
                "--quick_poc_subset",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "moviegen_fix_crosspairs_5b_144set",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_refactored.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/preprocessed_4k_updated/background_only_boxes",
                "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_foreground_subset4000.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples2/",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/finetune_result/241216/moviegen_fix_crosspairs_2b_144set",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "2",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "50",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--subset_cnt", "144",
                "--cross_pairs",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
                    "name": "2B_finetune_debug",
                    "type": "python",
                    "request": "launch",
                    "module": "accelerate.commands.launch",
                    "args": [
                        "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                        "--multi_gpu",
                        "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_refactored.py",
                        "--gradient_checkpointing",
                        "--pretrained_model_name_or_path", "THUDM/CogVideoX-2b",
                        "--cache_dir", "~/.cache",
                        "--enable_tiling",
                        "--enable_slicing",
                        "--instance_data_root", "/mnt/carpedkm_data/preprocessed_4k_updated/background_only_boxes",
                        "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_foreground_subset4000.json",
                        "--validation_epochs", "1",
                        "--num_validation_videos", "1",
                        "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples2/",
                        "--seed", "42",
                        "--rank", "128",
                        "--lora_alpha", "64",
                        "--mixed_precision", "bf16",
                        "--output_dir", "/mnt/carpedkm_data/finetune_result/241215/finetune144_moviegen_wo_bg_cross_pairs_refactored_2b",
                        "--height", "480",
                        "--width", "720",
                        "--fps", "8",
                        "--max_num_frames", "49",
                        "--skip_frames_start", "0",
                        "--skip_frames_end", "0",
                        "--train_batch_size", "6",
                        "--num_train_epochs", "30",
                        "--checkpointing_steps", "50",
                        "--gradient_accumulation_steps", "1",
                        "--learning_rate", "5e-5",
                        "--lr_scheduler", "cosine_with_restarts",
                        "--lr_warmup_steps", "200",
                        "--lr_num_cycles", "1",
                        "--enable_slicing",
                        "--enable_tiling",
                        "--gradient_checkpointing",
                        "--optimizer", "AdamW",
                        "--adam_beta1", "0.9",
                        "--adam_beta2", "0.95",
                        "--max_grad_norm", "1.0",
                        "--allow_tf32",
                        "--subset_cnt", "144",
                        "--cross_pairs",
                        "--report_to", "wandb"
                    ],
                    "console": "integratedTerminal",
                    "env": {
                        "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                        "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                        "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                        "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
                    }  
        },
        {
            "name": "accel_finetune_100k_debug",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_inf_fix.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/preprocessed_subset100k/background_only_boxes",
                "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_fullset400k.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples2",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/finetune_result/241203/finetune100k_one_init_zero_init_clip_t5_fist_no_pe_inf_fix",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "2",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "150",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--report_to", "wandb",
                "--resume_from_checkpoint", "/mnt/carpedkm_data/finetune_result/241203/finetune100k_one_init_zero_init_clip_t5_fist_no_pe_inf_fix/checkpoint-300"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "accel_finetune_concat_debug",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_inf_fix.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "/root/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/preprocessed_subset4000/background_only_boxes",
                "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_fullset400k.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples2",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/finetune_result/241125/finetune4000_concat_padded_debug_inf_fix",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "10",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--subset_cnt", "144",
                "--concatenated_all",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "accel_finetune debug",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single_4gpu.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_inf_fix.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/preprocessed_subset4000/background_only_boxes",
                "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_fullset400k.json",
                "--validation_epochs", "1",
                "--num_validation_videos", "1",
                "--validation_reference_image", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples2",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/finetune_result/241125/finetune144_zero_conv_controlnet_debug_w_inference_fix",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "10",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "5e-5",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--t5_first",
                "--subset_cnt", "144",
                "--zero_conv_add",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTORCH_CUDA_ALLOC_CONF": "expandable_segments:True",
                "CUDA_VISIBLE_DEVICES": "0,1,2,3",
                "TORCH_NCCL_ASYNC_ERROR_HANDLING": "1",
                "WANDB_API_KEY": "b524799f98b5a09033fe24848862dcb2a68af571"
            }
        },
        {
            "name": "inference",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/inference/cli_demo.py",
            "console": "integratedTerminal",
            "args": [
                "--prompt", "A girl riding a bike.",
                "--model_path", "THUDM/CogVideoX-5b", 
                "--generate_type", "t2v"
            ]
        },
        {
            "name": "custom_inference_debug",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/finetune/cli_demo_fix.py",
            "console": "integratedTerminal",
            "args": [
                "--prompt", "Two dogs one with a black and tan coat and another with a black and white coat appear to be playing on a lush green lawn with trees and a building in the background",
                "--reference_image_path", "/root/daneul/projects/refactored/CogVideo/finetune/val_samples/854179_background_boxes.jpg", 
                "--lora_path", "/mnt/carpedkm_data/finetune_result/finetune4000_custom_zero_init_t5_full_custom_with_clip/checkpoint-800"
            ]
        },
        {
            "name": "gpt_preprocess",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/Grounded-SAM-2/gpt_preprocess_video_dict.py",
            "console": "integratedTerminal",
            "args": [
                    // "--result_dir", "output/subset100",
                    // "--dataset", "dataset.json",
                    // "--GPU_IDX", "1",
                    
            ]
        },
        {
            "name": "accel_finetune",
            "type": "python",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--config_file", "/root/daneul/projects/refactored/CogVideo/finetune/accelerate_config_machine_single.yaml",
                "--multi_gpu",
                "/root/daneul/projects/refactored/CogVideo/finetune/train_cogvideox_for_videocustom_inf_fix.py",
                "--gradient_checkpointing",
                "--pretrained_model_name_or_path", "THUDM/CogVideoX-5b",
                "--cache_dir", "~/.cache",
                "--enable_tiling",
                "--enable_slicing",
                "--instance_data_root", "/mnt/carpedkm_data/preprocessed_subset4000/background_only_boxes",
                "--anno_root", "/root/daneul/projects/refactored/CogVideo/annotation/video_dict_fullset400k.json",
                "--validation_epochs", "1",
                "--seed", "42",
                "--rank", "128",
                "--lora_alpha", "64",
                "--mixed_precision", "bf16",
                "--output_dir", "/mnt/carpedkm_data/finetune_result/finetune_debug_with_inference_without_customization_reverse_order",
                "--height", "480",
                "--width", "720",
                "--fps", "8",
                "--max_num_frames", "49",
                "--skip_frames_start", "0",
                "--skip_frames_end", "0",
                "--train_batch_size", "6",
                "--num_train_epochs", "30",
                "--checkpointing_steps", "1",
                "--gradient_accumulation_steps", "1",
                "--learning_rate", "1e-4",
                "--lr_scheduler", "cosine_with_restarts",
                "--lr_warmup_steps", "200",
                "--lr_num_cycles", "1",
                "--enable_slicing",
                "--enable_tiling",
                "--gradient_checkpointing",
                "--optimizer", "AdamW",
                "--adam_beta1", "0.9",
                "--adam_beta2", "0.95",
                "--max_grad_norm", "1.0",
                "--allow_tf32",
                "--report_to", "wandb"
            ],
            "console": "integratedTerminal"
        }
    ]
}